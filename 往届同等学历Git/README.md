# Exam

1．长度为500位的应用层数据递交给传输层处理，需加上20字节的TCP头部。再递交给网络层处理，需加上20字节的IP头部。最后递交给数据链路层的以太网传送，还需加上18字节的头部和尾部。假设不计其他开销，该数据的传输效率为 。

   1字节=8位   传输速率=500/(500+20*8+20*8+18*8)
   

2．某计算机的IP地址为210.23.65.122，子网掩码为255.255.255.240，则该计算机的子网地址为 ；与掩码对应的网络前缀有 位。

   化成32位地址： 122=0 1 0 1 1 1 1 0
                 240=0 0 0 0 1 1 1 1  and 操作后
                 ---------------------
                     0 0 0 0 1 1 1 0
                     
                     子网地址为210.23.65.112
                     
                     掩码化为二进制：11111111 11111111 11111111 11110000 共28个1 即 28位（bit）
                     
               
   
   
3．主机A和主机B要建立TCP连接，A的初始序号为X，B的初始序号为Y，在建立连接过程中，共交换了 个报文；其中每一端的确认序号的含义是 。

     3次握手，共三个报文
     
     确认号用来通知发送端数据成功接收
     
     序列号被用来跟踪该端发送的数据量
     
     TCP会话的每一端都包含一个32位（bit）的序列号，该序列号被用来跟踪该端发送的数据量。
     每一个包中都包含序列号，在接收端则通过确认号用来通知发送端数据成功接收
     
     
     
4．假设使用TCP协议传送文件。TCP的报文段大小为1K字节（假设无拥塞，无丢失分组），接收方通告窗口为1M字节。当慢启动打开发送窗口达到32K字节时，用了 个往返时延（RTT）。

   慢启动为成倍增加，故为5个RTT。 1 2 4 8 16 32



二、单项选择题（每小题1分，共5分）

1．主机A的以太网适配器在线路上侦听到一个帧，并将它递交给主机A进行处理。下列说法中（ ）不能解释该过程。

A．该网络适配器工作在混杂模式    B．该帧的目的MAC地址和主机A在同一个网段中

C．该帧的目的MAC地址是一个广播地址   D．该帧的目的MAC地址是主机A所在的多播组地址

扩展：混杂模式（Promiscuous Mode）是指一台机器能够接收所有经过它的数据流，而不论其目的地址是否是他。是相对于通常模式（又称“非混杂模式”）而言的。这被网络管理员使用来诊断网络问题，但是也被无认证的想偷听网络通信（其可能包括密码和其它敏感的信息）的人利用。




2．采用集线器进行网络互连，下列说法中（ ）是正确的。

A．数据传输速率可不同，数据链路层协议相同 B．数据传输速率相同，数据链路层协议可不同
C．数据传输速率和数据链路层协议均相同 D．数据传输速率和链路层协议均可不同

各种网络在物理层互连时要求（  A  ）
A、数据传输率和链路协议都相同        B、数据传输率相同，链路协议可不同
C、数据传输率可不同，链路协议相同    D、数据传输率和链路协议都可不同


局域网互联的方式：
1）  中继器及工作原理：五个网段。四个中继器。
以太网最多可以有四个中继器。三个可以挂终端。5-4-3规则。工作在物理层。
2）  集线器及工作原理.
集线器是中继器的一种形式。所以也在物理层。增大了碰撞域。可以这样说，上边两个只是转发出去而已。从一个口进的数据，都转发到所有的端口上去。冲突域


3．为实现透明传输，PPP协议使用的是（B ）方法。

A．字符填充  B．位填充

C．在异步传输时使用位填充；在同步传输时使用字符填充

D．在异步传输时使用字符填充；在同步传输时使用位填充

PPP协议知识点。PPP是一种面向字节的协议，所有的帧长度都是整数个字节，使用一种特殊的字符填充法完成数据的填充.

透明传输在HDLC协议中使用零比特填充法，PPP协议的同步传输链路中也用的是零比特填充法；

PPP协议异步传输时和BSC协议使用的是字符填充法。



4．某单位分配了一个B类地址，计划将内部网络分成20个子网，将来还要增加18个子网，每个子网的主机数接近700台，一个可行的掩码方案是（ ）。

A．255．255．128．0 B．255．255．248．0

C．255．255．252．0 D．255．255．254．0


综合考虑子网的未来增长情况，该单位共需创建20+18=38个子网。由于25=32＜38＜26=64，因此子网号位数至少为6，即子网号需要向主机号借用6个比特位。另一方面，29-2=510＜600＜210-2=1022，所以主机号位数至少为10。6+10=16，即子网号位数与主机号位数之和正好是原B类网络的主机号位数。网络规划设计师应选用的子网掩码的二进制表示为11111111.1111 1111.1111 1100.0000 0000，即255.255.252.0。

5．在采用数字证书机制的系统中，采用公钥密码体制提供安全服务，其中用户的公钥可用于（A ）。

A．加密和鉴别  B．解密和鉴别

C．加密和签名  D．解密和签名

数字证书采用公钥体制进行加密和解密。私钥的作用是进行解密和签名；公钥的作用是，用于加密和验证。

三、名词解释

1．MTU

   通信术语 最大传输单元（Maximum Transmission Unit，MTU）是指一种通信协议的某一层上面所能通过的最大数据包大小（以字节为单位）。最大传输单元这个参数通常与通信接口有关（网络接口卡、串口等）。
   
2．生成树算法

   通过在交换机之间传递一种特殊的协议报文——BPDU（在IEEE 802.1D中这种协议报文被称为“配置消息”）来确定网络的拓扑结构。配置消息中包含了足够的信息来保证交换机完成生成树计算。STP的主要作用1）消除环路：通过阻断冗余链路来消除网络中可能存在的路径回环。  2）链路备份：当前活动路径发生故障时，激活冗余备份链路，恢复网络连通性。

计算：

1，主机A通过一条带宽为100Mbps的网络链路向主机B传输数据帧，假设每帧携带的数据是1K字节，链路的单向时延为15ms。若设计一个滑动窗口协议，使得发送窗口和接收窗口的大小相同，最少需要多少位表示序号？

    发送一帧的时间为 1KB*8/100Mbps=0.08ms;  往返时间为RTT为15ms*2=30ms;
    
    若使用滑动窗口协议：可连续发送的帧为： 1+30/0.08=376;
    
    2^8=256<376<2^9=512; 故应该使用9位序号
    
    
 2，考虑一个城域网，若源和目的主机之间的平均距离为10km，信号在传输介质中的传播速率为2×108m/s。试回答问题：
① 当数据的传输速率为多大时，2K字节分组的传输时延等于链路的往返传播时延？
② 若线路带宽为1Gbps，线路长度为2000km，数据传输采用停等协议，传输一个100K字节的文件，能否通过增加带宽来显著缩短成功传输该文件所需的时间？试简要说明理由。
  
  1)传播时延：t1=10Km/2x10^8m/s=0.05ms; RTT=2t1=0.1ms;
    2Kbx8/x=0.1ms=>传输速率x=2kbx8/0.1ms=16x10^4Kbps;
  2)
    
    
 3,（6分）在图1所示的网络中，主机H_A、主机H_B、路由器R_1和路由器R_2的各端口的IP地址和MAC地址分别表示为（MAC地址，IP地址）的形式，即有：H_A(MAC_A ,IP_A), H_B(MAC_B, IP_B), R_1的端口11（MAC_11，IP_11）, R_1的端口12（MAC_12，IP_12）, R_2的端口21（MAC_21，IP_21），R_2的端口22（MAC_22，IP_22）。试回答问题：
① 主机H_A向主机H_B发送数据，最多需要使用多少次ARP协议？简要说明理由。
② 主机H_A向主机H_B发送数据，试分别．．写出路由器R_1的端口11收到的数据单元以及路由器R_2的端口22转发的数据单元中，数据链路层协议首部的地址字段和网络层协议首部的地址字段内容。

![](https://github.com/moveondo/Exam/blob/master/image/4.png)  


 1)（前提，理论上，当前主机路由器arp表中都没有下一跳路由器MAC）
 
共需3次，主机A先通过arp得到第一个路由器的MAC，之后每一个路由器转发前都通过ARP得到下一跳路由器的MAC，最后一条路由器将IP包发给B前仍要通过ARP得到B的MAC，共3次。

  ARP协议就是用来获取目标IP地址所对应的MAC地址的，也就是说，ARP协议可以动态地在三层IP地址和二层MAC地址之间建立一种映射关系
  
  

    
    



计算：

【RIP路由协议】由相邻路由发来的RIP信息更新当前路由的路由表

![](https://github.com/moveondo/Exam/blob/master/image/1.png)  

更新原则：【最短距离原则】

1.对于路由C发来的RPI报文（表2），先修改报文中的各个项目，包括下一跳字段全部改为C，跳数全部加1；

新的表2如下：

![](https://github.com/moveondo/Exam/blob/master/image/2.png)  

2.对于修改后的RPI报文（新的表2）进行以下步骤：

①若原表中没有该目的地址（N），则把该项目添加进路由表中（路由A的表1中）

②若收到的项目（新表2中的一行称为一条项目），跳数距离小于原表中（表1）的距离，则进行更新。

【新的距离小于路由A表的距离】

③否则什么也不做。

【新的距离。大于/等于。路由A表的距离】

所以，路由A的路由表更新如下：



![](https://github.com/moveondo/Exam/blob/master/image/3.png)  

【2】步骤的白话文描述：比较新表2中和表1中的目的地址，如果是新的地址，则直接加入到表1中，比如Net2、Net4、Net6.如果新表2中的目的地址在表1中已经存在，则比较跳数，新表2中的跳数小于表1中的跳数则更新，否则表1中的项目保持不变。


三、简答题（每小题4分，共12分）

1．给出事务型数据流图的定义，并举例说明。

  1) 系统从输入设备获取信息，同时由外部形式变换成内部形式，进入系统的信息通过变换中心，经加工处理以后沿输出通路变换成外部形式，最后由输出设备离开软件系统。具有这些特性的数据流图称为变换型数据流图。变 换 型 数据流图是一个 线 性结构，由 输 入、中 心 变 换和 输 出三部分组成。

  2)如果在一个数据流图中明显地存在着一个“事务中心”，即接受一项事务，并根据事务处理的特点和性质，选择分派一个适当的处理单元，给出结果，则称这种数据流图为事务型数据流图。它由至少一条接受路径、一个事务中心与若干条动作路径组成。简而言之，前者是线性的处理，后者是分类处理



2．给出对象的依赖关系的定义，并举例说明。

对于两个相对独立的系统，当一个系统负责构造另一个系统的实例，或者依赖另一个系统的服务时，这两个系统之间主要体现为依赖关系，例如生产零件的机器和零件，机器负责构造零件对象。再例如充电电池和充电器，充电电池通过充电器来充电。


3．给出软件测试中分支覆盖的定义，并举例说明。

分支覆盖（判定覆盖）：把程序中所有判定的分支尽可能得到体验。这句话说白了，就是两个条 件的真真假假都得考虑到.



